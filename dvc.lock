schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py
    deps:
    - path: data/raw
      md5: 8c4ae7c2f53adc246c2d64dc8e264738.dir
      size: 100951
      nfiles: 1
    - path: src/prepare.py
      md5: 101cf25112553017084025f6d0acbe1c
      size: 503
    params:
      params.yaml:
        prepare:
          raw: data/raw
          processed: data/processed
          dataset_name: winequality-red.csv
    outs:
    - path: data/processed
      md5: e0d7884cf3177f53ea47929e056293ae.dir
      size: 93485
      nfiles: 1
  tune:
    cmd: python src/tune.py
    deps:
    - path: data/processed
      md5: e0d7884cf3177f53ea47929e056293ae.dir
      size: 93485
      nfiles: 1
    - path: src/tune.py
      md5: 94310e32441639f0ec5f738ed095ba3e
      size: 4087
    params:
      params.yaml:
        prepare.processed: data/processed
        tune:
          model_name: xgboost_best_model.json
          models: models/
          hyperparams:
            objective: multi:softprob
            eval_metric: mlogloss
            tree_method: hist
            early_stopping_rounds: 20
            n_estimators:
              type: int
              lower: 200
              upper: 600
          tune_config:
            num_samples: 50
            metric: loss
            mode: min
          scheduler:
            type: ASHAScheduler
            grace_period: 10
            reduction_factor: 3
          search_alg: OptunaSearch
    outs:
    - path: eval/losses.csv
      md5: fc20e0510c2a4b4f4ebae4ec05f12450
      size: 2191
    - path: eval/metrics.json
      md5: 9f8ea79063787ea9ff5fa18111013173
      size: 28
    - path: eval/params.json
      md5: fd31f29f2e51993565941f358f431592
      size: 329
    - path: models
      md5: fc4f0aec253caf7a6424b73e163ae2f6.dir
      size: 621025
      nfiles: 1
