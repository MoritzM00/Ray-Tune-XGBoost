schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py
    deps:
    - path: data/raw
      md5: 8c4ae7c2f53adc246c2d64dc8e264738.dir
      size: 100951
      nfiles: 1
    - path: src/prepare.py
      md5: 101cf25112553017084025f6d0acbe1c
      size: 503
    params:
      params.yaml:
        prepare:
          raw: data/raw
          processed: data/processed
          dataset_name: winequality-red.csv
    outs:
    - path: data/processed
      md5: e0d7884cf3177f53ea47929e056293ae.dir
      size: 93485
      nfiles: 1
  tune:
    cmd: python src/tune.py
    deps:
    - path: data/processed
      md5: e0d7884cf3177f53ea47929e056293ae.dir
      size: 93485
      nfiles: 1
    - path: src/tune.py
      md5: ed46ee46cc4cdbe41e67e4d3e2a99867
      size: 3991
    params:
      params.yaml:
        prepare.processed: data/processed
        tune:
          model_name: xgboost_best_model.json
          models: models/
          hyperparams:
            objective: multi:softprob
            eval_metric: mlogloss
            tree_method: hist
            early_stopping_rounds: 20
            n_estimators:
              type: int
              lower: 200
              upper: 600
          tune_config:
            num_samples: 10
            metric: loss
            mode: min
          scheduler:
            type: ASHAScheduler
            grace_period: 10
            reduction_factor: 3
          search_alg: OptunaSearch
    outs:
    - path: eval/losses.csv
      md5: cca9d7ec8a49f6b8b976368132dfba1a
      size: 2193
    - path: eval/metrics.json
      md5: d883d3a4cc9dddb29de51edbbe9cd636
      size: 24
    - path: eval/params.json
      md5: 581e7c5247d365b7fe71f9e79bd0c07b
      size: 328
    - path: models
      md5: 5cbc0f320500f8c06ca12a60abc67922.dir
      size: 715370
      nfiles: 1
