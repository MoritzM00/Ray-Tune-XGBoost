schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py
    deps:
    - path: data/raw
      md5: 8c4ae7c2f53adc246c2d64dc8e264738.dir
      size: 100951
      nfiles: 1
    - path: src/prepare.py
      md5: 101cf25112553017084025f6d0acbe1c
      size: 503
    params:
      params.yaml:
        prepare:
          raw: data/raw
          processed: data/processed
          dataset_name: winequality-red.csv
    outs:
    - path: data/processed
      md5: e0d7884cf3177f53ea47929e056293ae.dir
      size: 93485
      nfiles: 1
  tune:
    cmd: python src/tune.py
    deps:
    - path: data/processed
      md5: e0d7884cf3177f53ea47929e056293ae.dir
      size: 93485
      nfiles: 1
    - path: src/tune.py
      md5: 94310e32441639f0ec5f738ed095ba3e
      size: 4087
    params:
      params.yaml:
        prepare.processed: data/processed
        tune:
          model_name: xgboost_best_model.json
          models: models/
          hyperparams:
            objective: multi:softprob
            eval_metric: mlogloss
            tree_method: hist
            early_stopping_rounds: 20
            n_estimators:
              type: int
              lower: 200
              upper: 600
          tune_config:
            num_samples: 500
            metric: loss
            mode: min
          scheduler:
            type: ASHAScheduler
            grace_period: 10
            reduction_factor: 3
          search_alg: OptunaSearch
    outs:
    - path: eval/losses.csv
      md5: 71eadb1d1ffb76cfc0c6a7da48ff34d0
      size: 2197
    - path: eval/metrics.json
      md5: f4383ef7ac108fb3430301a3f77c5b84
      size: 27
    - path: eval/params.json
      md5: d45043d96c1f76a28543c80c9951b4d9
      size: 329
    - path: models
      md5: 96e6157eed0f742beee719d2461c4b7f.dir
      size: 782460
      nfiles: 1
